#!/usr/bin/env bash
set -euo pipefail

# –ò—Å—Ö–æ–¥–Ω–∞—è –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—è
SRC="${HOME}/Projects/devdrive/tms_backend"

# –¶–µ–ª–µ–≤–∞—è –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—è-—Ä–æ–¥–∏—Ç–µ–ª—å
DEST_ROOT="${HOME}/Projects"
# –ü—É—Ç—å –∫–æ–ø–∏–∏
DEST="${DEST_ROOT}/tms_backend"

# –ü—Ä–æ–≤–µ—Ä—è–µ–º, —á—Ç–æ –∏—Å—Ö–æ–¥–Ω–∏–∫ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç
if [[ ! -d "$SRC" ]]; then
  echo "‚ùå –ò—Å—Ç–æ—á–Ω–∏–∫ –Ω–µ –Ω–∞–π–¥–µ–Ω: $SRC"
  exit 1
fi

# –£–¥–∞–ª—è–µ–º —Å—Ç–∞—Ä—É—é –∫–æ–ø–∏—é, –µ—Å–ª–∏ –æ–Ω–∞ –µ—Å—Ç—å
if [[ -e "$DEST" ]]; then
  echo "üîÑ –£–¥–∞–ª—è—é —Å—Ç–∞—Ä—É—é –∫–æ–ø–∏—é: $DEST"
  rm -rf "$DEST"
fi

# –°–æ–∑–¥–∞–µ–º —Ä–æ–¥–∏—Ç–µ–ª—å—Å–∫—É—é –ø–∞–ø–∫—É –Ω–∞ –≤—Å—è–∫–∏–π —Å–ª—É—á–∞–π
mkdir -p "$DEST_ROOT"

# –ö–æ–ø–∏—Ä—É–µ–º —Ä–µ–∫—É—Ä—Å–∏–≤–Ω–æ —Å —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ–º –ø—Ä–∞–≤
echo "üìã –ö–æ–ø–∏—Ä—É—é $SRC ‚Üí $DEST"
cp -a "$SRC" "$DEST"

echo "‚úÖ –ì–æ—Ç–æ–≤–æ! –ü—Ä–æ–µ–∫—Ç –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –≤ $DEST"
